---
title: 测试正标题
subtitle: 测试副标题
layout: post
author: chuizi
---

* any list
{:toc}

# Java 数据类型概览

Java 中有各种数据类型，对比如下

|数据类型|类型|占用字节|数值范围|默认值|
|:---|:---|:---|:---|:---|
|byte|数值|1|$$-2^7$$ ~ $$2^7-1$$|0|
|short|数值|2|$$-2^{15}$$ ~ $$2^{15}-1$$|0|
|int|数值|4|$$-2^{31}$$ ~ $$2^{31}-1$$|0|
|long|数值|8|$$-2^{63}$$ ~ $$2^{63}-1$$|0L|
|float|数值|4|约 $$-3.4E^{38}$$ ~ $$3.4^{38}$$|0.0f|
|double|数值|8|约 $$-1.79E^{308}$$ ~ $$1.79^{308}$$|0.0d|
|boolean|布尔|未定义|true / false|false|
|char|字符|2|'\u0000' ~ '\uFFFF'|'\u0000'|
|对象|数据结构|按需分配|无|无|
|数组|数据结构，特殊的对象|按需分配|无|无|
|引用|指针|按计算机内存空间分配，比如 32 bit 系统的指针大小为 1 字节|无|null|

其中，boolean 类型占用的字节是不确定的，在[官方文档](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)中，对其占用字节描述是：
> This data type represents one bit of information, but its "size" isn't something that's precisely defined.

# 数据类型的基本操作

## 数值

数值类型最常用的操作是数值计算，最基本的数值计算操作包括：加、减、乘、除、求余。  

当两个数值进行计算时，需要遵循以下规则  

  * 当参与计算的数值的数据类型不同时，精度小的数值先转换为精度大的数值，再进行计算
  * 返回值的类型，为参与计算的数值中精度最大的类型

数值类型的精度大小排序为：`double > float > long > int > short > byte`  

比如，1.5 * 3 得到的结果是 4.5，计算时，int 类型的字面值 3 会转为 double 类型的字面值 3.0；又比如，3 / 2 得到的结果是 1 而不是 1.5，这是因为参与计算的数值最大精度是 int，所以返回值的类型也为 int。

特别需要注意的是，浮点数的计算存在精度问题。比如 1.3 * 3 的结果不是 3.9，而是 3.9000000000000004。所以浮点数不能进行等值比较（比如 1.3 * 3 != 3.9），也不能用来精确地表示小数。在对精度丢失不能容忍的系统（比如金融系统）中，不能直接使用浮点类型。关于出现精度偏差的原因，以及相关的解决方案，将在未来的文章中说明，

## 布尔

略。

## 字符

字符类型用于表示单个 16 位 Unicode 字符，表示的范围从 '\u0000' 到 '\uFFFF'，其中，'\u0000' 到 '\u007F' 对应 128 个 ASCII 字符，包含了数字、字幕和标点符号。

## 类和对象

类是对现实中某个事物的抽象和封装，主要由属性和方法主成。对象则是类的实例化。对象的操作由方法定义的行为决定。

## 数组

数组是一种特殊对象，用于存储同种数据类型的多个变量。数组的基本操作是存储与获取某个下标对应的元素。Java.util.Arrays 类也提供了一些实用的方法用于常见的数组操作。

## 引用
引用实际上是一个指向对象内存区域的指针，当创建一个对象时，可以定义一个引用关联这个对象。通过引用可以操作对象中的元素和方法。

# 数据类型的占用空间

不同的数据类型占用的内存空间大小不同，具体可以参考[Java 数据类型概览](#Java 数据类型概览)。其中，对象和数组占用的内存空间是不确定的。  

对于基本数据类型，声明变量时就会马上分配对应的内存空间；对于对象，声明变量时创建的是指向对象的引用，分配的也是引用所需的内存空间，需要等到实例化对象时，才会分配具体的内存空间。  

数组创建后，它的大小就是固定不变的，无法修改它的大小。所以创建数组时，需要谨慎考虑需要多长的数组。

# 数据类型的默认值

当声明局部变量时，变量不会被赋予默认值；当声明对象的属性时，变量会被赋予默认值；当创建数组时，它的元素也会被赋予默认值。

# 数据类型的相互转换

## 数值的相互转换

不同类型的数值可以进行相互转换，比如 int 类型转为 double 类型，或者 double 类型转为 int 类型。如果将精度小的数值（比如 int）赋值给更大精度的变量（比如 double），会进行自动类型转换；如果将精度大的数值赋值给精度小的变量，则要求进行显式的类型转换。

## 数值和字符的相互转换

字符可以转换为数值，对应的是其二进制代表的数字。比如  

```
// 最终 number 值为 97
// 字符 'a' 的十六进制表示是 '\u0061'，对应的数字就是 97
int number = 'a';
```

数值也可以转换为字符，对应的是数字二进制代表的字符，比如  

```
// 最终 char 值为 'a'
// 数值 97 的十六进制表示是 '\u0061'，对应的字符就是 'a'
char ch = 97;
```

如果数值的大小超过了字符类型所能表示的范围，则需要进行强制类型转换才能赋值。  

字符可以参与数值运算，此时字符会先自动转换为数值，在进行计算。  

# 参考资料
https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html